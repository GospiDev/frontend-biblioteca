<div class="connection-status">
  <span [class]="isConnected ? 'connected' : 'disconnected'">
    {{ isConnected ? '✅ Conectado' : '❌ Desconectado' }}
  </span>
</div>

<div class="container" *ngIf="authService.isLoggedIn$ | async">
  <header class="header">
    <h1>{{ title }}</h1>

    <nav>
      <a routerLink="/libros" routerLinkActive="activo">Libros</a>
      <a routerLink="/prestamos" routerLinkActive="activo">Préstamos</a>

      <a 
        *ngIf="(authService.role$ | async) === 'Admin'" 
        routerLink="/usuarios" 
        routerLinkActive="activo">
        Usuarios
      </a>
      
      <a (click)="logout()">Cerrar Sesión</a>
    </nav>     
  </header>

  <main>
    <router-outlet></router-outlet>
  </main>
</div>

<router-outlet *ngIf="!(authService.isLoggedIn$ | async)"></router-outlet>